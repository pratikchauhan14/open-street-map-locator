<!DOCTYPE html>
<html>

<head>
    <title>OpenStreetMap with Leaflet</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <script src="data-1.js"></script>
    <script src="index.js"></script>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>
    
   <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""></script>

    <script src="./index2.js"></script>
    <link href="style.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
   

</head>

<body>
    
    <div class="p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between flex-col md:flex-row">
        <h1 class="text-xl font-bold pb-2 md:pb-0">OpenStreetMap Locator</h1>
        <div class="flex items-center gap-4">
            <!-- Contact us -->
            <a href="mailto:pratik@2cube.studio" class="text-xs font-medium text-blue-600 hover:text-blue-800 dark:text-white dark:hover:text-white">Contact us</a>
            <!-- GitHub -->
            <a href="https://2cube.studio" target="_blank" class="
            px-4 py-2 dark:bg-gray-800 dark:text-white text-xs font-medium rounded-md border border-gray-300 dark:border-gray-700
            hover:bg-gray-700 hover:text-white dark:hover:bg-gray-700 dark:hover:text-white hover:border-gray-300 dark:hover:border-gray-700
            transition-colors
            ">2Cube Studio</a>
        </div>
    </div>
<div class="p-[15px]">
    <div class="locator-container">
        <aside id="sidebar">
            <div class="sidebar-header">
                <div class="search-title-wrapper">
                    <h2 id="search-title">All Stores</h2>
                    <div id="reset">
                        <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24" fill="#000000"><g fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"><path d="M12 3a9 9 0 1 1-5.657 2"></path><path d="M3 4.5h4v4"></path></g></svg>
                    </div>
                </div>
                
                <div class="search-controls">
                    <div class="search-box-wrapper">
                        <input type="text" id="search-box" placeholder="Search by ZIP, City or State">
                    </div>
                    <button id="update-btn">Update</button>
                </div>
            
                <div class="radius-control">
                  <label for="radius-select">Show stores within:</label>
                  <select id="radius-select">
                    <option value="all" selected>Any distance</option>
                    <option value="50">50 miles</option>
                    <option value="100">100 miles</option>
                    <option value="150">150 miles</option>
                    <option value="200">200 miles</option>
                    <option value="250">250 miles</option>
                    <option value="300">300 miles</option>
                    <option value="350">350 miles</option>
                    <option value="400">400 miles</option>
                    <option value="450">450 miles</option>
                    <option value="500">500 miles</option>
                  </select>
                </div>
                
                <a href="#" id="use-location-btn">Use my current location</a>
            </div>
            <div id="location-list">
                </div>
        </aside>
        <main id="map"></main>
    </div>
</div>

    <script>

       
        document.addEventListener('DOMContentLoaded', () => {
            const mapData1 = mapData;

            // Flexible HTML template for sidebar cards
            const sidebarCardTemplate = `
                <div class="location-card">
                    <div class="details">
                        <div class="card-head">
                            <div class="index">_index_</div>
                            <div>
                                <h3 id="city" >_city_</h3>
                                <p class="distance"></p>
                            </div>
                        </div>
                        <p>_address_</p>
                        <div class="card-buttons">
                            <a id="phone" href="tel:_phone_">
                                <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 110.7 76.9"> <!-- Generator: Adobe Illustrator 29.8.2, SVG Export Plug-In . SVG Version: 2.1.1 Build 3)  --> <path d="M80.5,76.9c-14.8,0-28.4-11.7-39.1-22.6C24.9,37.5,18.7,22.9,22.5,9.8c.5-1.6,1.4-3.2,2.6-4.4l3.7-3.7c2.2-2.2,5.8-2.2,8,0l13,12.8c2.1,2.1,2.1,5.5,0,7.6l-3.1,3.1c-2.5,5.4,5.9,14.9,9.1,17.9,0,0,0,0,0,0,10.5,10.4,15.1,8.2,15.5,8l3.9-4c2.1-2.1,5.5-2.1,7.6,0l14,13.8h0c1.1,1.1,1.7,2.5,1.7,4,0,1.5-.6,2.9-1.6,4l-4.2,4.3c-1.2,1.3-2.8,2.2-4.4,2.7-2.6.8-5.2,1.1-7.8,1.1Z" fill="#0196cf"/> <path d="M99.8.8H10.9C4.9.8,0,5.7,0,11.7v53.4c0,6,4.9,10.9,10.9,10.9h88.9c6,0,10.9-4.9,10.9-10.9V11.7c0-6-4.9-10.9-10.9-10.9ZM35.7,46.4l-20.1,20.1c-.5.5-1.2.8-1.9.8s-1.4-.3-1.9-.8c-1.1-1.1-1.1-2.8,0-3.9l20.1-20.1c1.1-1.1,2.8-1.1,3.9,0,1.1,1.1,1.1,2.8,0,3.9ZM55.9,55.7c-.7,0-1.3-.2-1.9-.7L11.9,15.9c-1.1-1-1.2-2.8-.1-3.9,1-1.1,2.8-1.2,3.9-.1l40.2,37.3L94.1,11.9c1.1-1.1,2.8-1,3.9,0,1.1,1.1,1,2.8,0,3.9l-40.1,39.1c-.5.5-1.2.8-1.9.8ZM98.9,66.5c-.5.5-1.2.8-1.9.8s-1.4-.3-1.9-.8l-20.1-20.1c-1.1-1.1-1.1-2.8,0-3.9,1.1-1.1,2.8-1.1,3.9,0l20.1,20.1c1.1,1.1,1.1,2.8,0,3.9Z" display="none" fill="#0196cf"/> </svg>
                                CALL
                            </a>
                            <a id="email" href="mailto:_email_">
                                <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 110.7 76.9"> <!-- Generator: Adobe Illustrator 29.8.2, SVG Export Plug-In . SVG Version: 2.1.1 Build 3)  --> <path d="M80.5,76.9c-14.8,0-28.4-11.7-39.1-22.6C24.9,37.5,18.7,22.9,22.5,9.8c.5-1.6,1.4-3.2,2.6-4.4l3.7-3.7c2.2-2.2,5.8-2.2,8,0l13,12.8c2.1,2.1,2.1,5.5,0,7.6l-3.1,3.1c-2.5,5.4,5.9,14.9,9.1,17.9,0,0,0,0,0,0,10.5,10.4,15.1,8.2,15.5,8l3.9-4c2.1-2.1,5.5-2.1,7.6,0l14,13.8h0c1.1,1.1,1.7,2.5,1.7,4,0,1.5-.6,2.9-1.6,4l-4.2,4.3c-1.2,1.3-2.8,2.2-4.4,2.7-2.6.8-5.2,1.1-7.8,1.1Z" display="none" fill="#0196cf"/> <path d="M99.8.8H10.9C4.9.8,0,5.7,0,11.7v53.4c0,6,4.9,10.9,10.9,10.9h88.9c6,0,10.9-4.9,10.9-10.9V11.7c0-6-4.9-10.9-10.9-10.9ZM35.7,46.4l-20.1,20.1c-.5.5-1.2.8-1.9.8s-1.4-.3-1.9-.8c-1.1-1.1-1.1-2.8,0-3.9l20.1-20.1c1.1-1.1,2.8-1.1,3.9,0,1.1,1.1,1.1,2.8,0,3.9ZM55.9,55.7c-.7,0-1.3-.2-1.9-.7L11.9,15.9c-1.1-1-1.2-2.8-.1-3.9,1-1.1,2.8-1.2,3.9-.1l40.2,37.3L94.1,11.9c1.1-1.1,2.8-1,3.9,0,1.1,1.1,1,2.8,0,3.9l-40.1,39.1c-.5.5-1.2.8-1.9.8ZM98.9,66.5c-.5.5-1.2.8-1.9.8s-1.4-.3-1.9-.8l-20.1-20.1c-1.1-1.1-1.1-2.8,0-3.9,1.1-1.1,2.8-1.1,3.9,0l20.1,20.1c1.1,1.1,1.1,2.8,0,3.9Z" fill="#0196cf"/></svg>
                                EMAIL
                            </a>
                        </div>
                    </div>
                </div>
            `;

            // Flexible HTML template for map infoboxes (popups)
            const infoboxTemplate = `
                <div class="infobox-inner">
                    <img id="image_url" src="_image_url_" alt="_image_alt_text_">
                    <div class="infobox-details">
                    <h4 id="name">_name_</h4>
                    <div id="information" class="information">_information_</div>
                    <div id="address" class="address">_address_</div>
                    <div class="card-buttons">
                        <a id="phone" href="tel:_phone_">
                            <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 110.7 76.9"> <!-- Generator: Adobe Illustrator 29.8.2, SVG Export Plug-In . SVG Version: 2.1.1 Build 3)  --> <path d="M80.5,76.9c-14.8,0-28.4-11.7-39.1-22.6C24.9,37.5,18.7,22.9,22.5,9.8c.5-1.6,1.4-3.2,2.6-4.4l3.7-3.7c2.2-2.2,5.8-2.2,8,0l13,12.8c2.1,2.1,2.1,5.5,0,7.6l-3.1,3.1c-2.5,5.4,5.9,14.9,9.1,17.9,0,0,0,0,0,0,10.5,10.4,15.1,8.2,15.5,8l3.9-4c2.1-2.1,5.5-2.1,7.6,0l14,13.8h0c1.1,1.1,1.7,2.5,1.7,4,0,1.5-.6,2.9-1.6,4l-4.2,4.3c-1.2,1.3-2.8,2.2-4.4,2.7-2.6.8-5.2,1.1-7.8,1.1Z" fill="#0196cf"/> <path d="M99.8.8H10.9C4.9.8,0,5.7,0,11.7v53.4c0,6,4.9,10.9,10.9,10.9h88.9c6,0,10.9-4.9,10.9-10.9V11.7c0-6-4.9-10.9-10.9-10.9ZM35.7,46.4l-20.1,20.1c-.5.5-1.2.8-1.9.8s-1.4-.3-1.9-.8c-1.1-1.1-1.1-2.8,0-3.9l20.1-20.1c1.1-1.1,2.8-1.1,3.9,0,1.1,1.1,1.1,2.8,0,3.9ZM55.9,55.7c-.7,0-1.3-.2-1.9-.7L11.9,15.9c-1.1-1-1.2-2.8-.1-3.9,1-1.1,2.8-1.2,3.9-.1l40.2,37.3L94.1,11.9c1.1-1.1,2.8-1,3.9,0,1.1,1.1,1,2.8,0,3.9l-40.1,39.1c-.5.5-1.2.8-1.9.8ZM98.9,66.5c-.5.5-1.2.8-1.9.8s-1.4-.3-1.9-.8l-20.1-20.1c-1.1-1.1-1.1-2.8,0-3.9,1.1-1.1,2.8-1.1,3.9,0l20.1,20.1c1.1,1.1,1.1,2.8,0,3.9Z" display="none" fill="#0196cf"/> </svg>
                            CALL
                        </a>
                        <a id="email" href="mailto:_email_">
                            <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 110.7 76.9"> <!-- Generator: Adobe Illustrator 29.8.2, SVG Export Plug-In . SVG Version: 2.1.1 Build 3)  --> <path d="M80.5,76.9c-14.8,0-28.4-11.7-39.1-22.6C24.9,37.5,18.7,22.9,22.5,9.8c.5-1.6,1.4-3.2,2.6-4.4l3.7-3.7c2.2-2.2,5.8-2.2,8,0l13,12.8c2.1,2.1,2.1,5.5,0,7.6l-3.1,3.1c-2.5,5.4,5.9,14.9,9.1,17.9,0,0,0,0,0,0,10.5,10.4,15.1,8.2,15.5,8l3.9-4c2.1-2.1,5.5-2.1,7.6,0l14,13.8h0c1.1,1.1,1.7,2.5,1.7,4,0,1.5-.6,2.9-1.6,4l-4.2,4.3c-1.2,1.3-2.8,2.2-4.4,2.7-2.6.8-5.2,1.1-7.8,1.1Z" display="none" fill="#0196cf"/> <path d="M99.8.8H10.9C4.9.8,0,5.7,0,11.7v53.4c0,6,4.9,10.9,10.9,10.9h88.9c6,0,10.9-4.9,10.9-10.9V11.7c0-6-4.9-10.9-10.9-10.9ZM35.7,46.4l-20.1,20.1c-.5.5-1.2.8-1.9.8s-1.4-.3-1.9-.8c-1.1-1.1-1.1-2.8,0-3.9l20.1-20.1c1.1-1.1,2.8-1.1,3.9,0,1.1,1.1,1.1,2.8,0,3.9ZM55.9,55.7c-.7,0-1.3-.2-1.9-.7L11.9,15.9c-1.1-1-1.2-2.8-.1-3.9,1-1.1,2.8-1.2,3.9-.1l40.2,37.3L94.1,11.9c1.1-1.1,2.8-1,3.9,0,1.1,1.1,1,2.8,0,3.9l-40.1,39.1c-.5.5-1.2.8-1.9.8ZM98.9,66.5c-.5.5-1.2.8-1.9.8s-1.4-.3-1.9-.8l-20.1-20.1c-1.1-1.1-1.1-2.8,0-3.9,1.1-1.1,2.8-1.1,3.9,0l20.1,20.1c1.1,1.1,1.1,2.8,0,3.9Z" fill="#0196cf"/></svg>
                            EMAIL
                        </a>
                    </div>
                    </div>
                </div>
            `;

            const locator = new StoreLocator({
                mapData: mapData1,
                sidebarCardTemplate: sidebarCardTemplate,
                infoboxTemplate: infoboxTemplate
            });
            locator.init();

        })
    </script>
</body>

</html>